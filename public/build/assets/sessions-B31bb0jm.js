import{r as c,o as C,b as a,c as T,w as E,a as l,d as e,e as r,h as g,v as F,i as B,F as m,f as b,g as M,m as V,t as i}from"./app-Dtq5Ei1I.js";import{_ as U}from"./AuthenticatedLayout-B4l07z46.js";import"./ApplicationLogo-M_mRncSF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $=e("h3",{class:"font-bold text-red-500 ml-10"},"sessions",-1),q={key:0,class:"session-form"},N=e("h2",null,"Schedule Workout Session",-1),A=e("label",{for:"sessionDate"},"Session Date:",-1),I=e("label",{for:"sessionType"},"Session Type:",-1),L=e("div",{class:"form-actions"},[e("button",{type:"submit"},"Create")],-1),W={class:"relative overflow-x-auto"},j={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},z=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"},"id"),e("th",{scope:"col",class:"px-6 py-3"},"description"),e("th",{scope:"col",class:"px-6 py-3"},"type"),e("th",{scope:"col",class:"px-6 py-3"},"date"),e("th",{scope:"col",class:"px-6 py-3"},"actions")])],-1),G={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},H={class:"px-6 py-4"},J={class:"px-6 py-4"},K={class:"px-6 py-4"},O={class:"px-6 py-4"},P=["onClick"],Q=["onClick"],se={__name:"sessions",setup(R){const n=c([]),p=c(!1),u=c(""),y=c("Strength Training"),f=async()=>{try{const t=await l.get("/api/sessions");n.value=t.data}catch{console.log("Failed to fetch sessions")}},x=async()=>{try{const t=await l.post("/api/sessions",{date:u.value,session_type:y.value})}catch(t){console.error("error submitting session",t)}},v=async t=>{if(window.confirm("Are you sure you want to delete this session?"))try{await l.delete("/api/sessions/"+t),n.value=n.value.filter(o=>o.id!==t),console.log("Session deleted")}catch(o){console.error("Error deleting session",o)}},w=async t=>{const o=prompt("Enter updated description",t.description),s=prompt("Enter updated type",t.session_type),d=prompt("Enter updated date",t.session_date);if(o&&s&&d)try{const _={description:o,session_type:s,session_date:d},S=await l.put("/api/sessions/"+t.id,_),h=n.value.findIndex(D=>D.id===t.id);h!==-1&&(n.value[h]={...S.data},console.log("Session updated"))}catch{alert("Error updating session")}},k=()=>{p.value=!p.value};return C(async()=>{await f()}),(t,o)=>(a(),T(U,null,{default:E(()=>[$,e("div",{class:"actions"},[e("button",{onClick:k},"Schedule Session")]),p.value?(a(),r("div",q,[N,e("form",{onSubmit:M(x,["prevent"])},[A,g(e("input",{type:"date",id:"sessionDate","onUpdate:modelValue":o[0]||(o[0]=s=>u.value=s),required:""},null,512),[[F,u.value]]),I,g(e("select",{id:"sessionType","onUpdate:modelValue":o[1]||(o[1]=s=>y.value=s),required:""},[(a(!0),r(m,null,b(n.value,s=>(a(),r("option",{key:s.id},i(s.session_type),1))),128))],512),[[B,y.value]]),L],32)])):V("",!0),e("div",W,[e("table",j,[z,e("tbody",null,[(a(!0),r(m,null,b(n.value,s=>(a(),r("tr",{key:s.id,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[e("th",G,i(s.id),1),e("td",H,i(s.description),1),e("td",J,i(s.session_type),1),e("td",K,i(s.session_date),1),e("td",O,[e("button",{type:"button",class:"text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 focus:outline-none dark:focus:ring-red-800",onClick:d=>v(s.id)},"Delete",8,P),e("button",{type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",onClick:d=>w(s)},"Update",8,Q)])]))),128))])])])]),_:1}))}};export{se as default};
